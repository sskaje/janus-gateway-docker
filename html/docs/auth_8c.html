<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>auth.c File Reference</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.2/cerulean/bootstrap.min.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 2001;" src="forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
<div class="container">
	<a class="navbar-brand" href="/">Janus (multistream)</a>
	<button type="button" class="navbar-toggler" data-toggle="collapse" data-target=".navbar-collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="navbar-collapse collapse" id="navbarResponsive">
		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link" href="/">Home</a></li>
			<li class="nav-item"><a class="nav-link" href="/demos/">Demos</a></li>
			<li class="nav-item"><a class="nav-link active" href="index.html">Documentation</a></li>
			<li class="nav-item"><a class="nav-link" href="/citeus.html">Papers</a></li>
			<li class="nav-item"><a class="nav-link" href="/support.html">Need help?</a></li>
			<li class="nav-item"><a class="nav-link" href="https://janus-legacy.conf.meetecho.com/">Janus (0.x)</a></li>
			<li class="nav-item"><a class="nav-link januscon" target="_blank" href="https://januscon.it">JanusCon!</a></li>
		</ul>
		<ul class="navbar-nav ms-auto">
			<li class="nav-item">
				<a class="nav-link meetecho-logo" target="_blank" href="https://www.meetecho.com">
					<img src="meetecho-logo.png"/>
				</a>
			</li>
		</ul>
	</div>
</div>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">auth.c File Reference<div class="ingroups"><a class="el" href="group__core.html">Core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Requests authentication.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;openssl/hmac.h&gt;</code><br />
<code>#include &quot;<a class="el" href="auth_8h_source.html">auth.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mutex_8h_source.html">mutex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for auth.c:</div>
<div class="dyncontent">
<div class="center"><img src="auth_8c__incl.png" border="0" usemap="#aauth_8c" alt=""/></div>
<map name="aauth_8c" id="aauth_8c">
<area shape="rect" title="Requests authentication." alt="" coords="707,5,769,31"/>
<area shape="rect" title=" " alt="" coords="5,225,76,251"/>
<area shape="poly" title=" " alt="" coords="707,25,576,40,395,66,302,84,217,104,146,128,97,154,71,182,53,214,48,211,66,179,94,150,144,123,216,99,301,79,394,61,576,34,706,20"/>
<area shape="rect" title=" " alt="" coords="355,79,479,104"/>
<area shape="poly" title=" " alt="" coords="707,29,483,78,481,73,706,24"/>
<area shape="rect" href="auth_8h.html" title="Requests authentication (headers)" alt="" coords="503,79,565,104"/>
<area shape="poly" title=" " alt="" coords="707,33,579,77,578,72,706,28"/>
<area shape="rect" href="mutex_8h.html" title="Semaphores, Mutexes and Conditions." alt="" coords="711,299,787,324"/>
<area shape="poly" title=" " alt="" coords="744,30,765,122,771,186,769,251,760,286,755,285,763,250,766,186,759,122,739,31"/>
<area shape="rect" href="debug_8h.html" title="Logging and Debugging." alt="" coords="807,372,882,397"/>
<area shape="poly" title=" " alt="" coords="770,24,821,40,877,67,902,86,923,108,937,133,942,163,942,240,935,277,917,312,894,342,871,365,867,361,890,338,913,309,930,276,937,239,937,164,932,135,919,111,899,90,874,72,819,45,769,29"/>
<area shape="rect" href="utils_8h.html" title="TURN REST API client." alt="" coords="977,152,1040,177"/>
<area shape="poly" title=" " alt="" coords="770,18,811,22,860,32,912,49,960,77,986,106,1002,138,998,140,981,109,956,81,910,54,859,37,810,28,769,23"/>
<area shape="rect" title=" " alt="" coords="638,519,697,544"/>
<area shape="poly" title=" " alt="" coords="503,104,272,175,162,213,128,228,116,238,117,386,119,405,124,419,133,430,145,439,176,453,213,468,278,482,393,498,624,523,624,528,392,503,277,487,212,473,174,458,142,443,129,434,120,422,113,406,111,386,112,236,125,224,160,208,271,170,502,99"/>
<area shape="rect" href="plugin_8h.html" title="Plugin&#45;Core communication (implementation)" alt="" coords="370,152,495,177"/>
<area shape="poly" title=" " alt="" coords="519,106,462,146,459,142,516,102"/>
<area shape="poly" title=" " alt="" coords="370,180,90,230,89,225,369,175"/>
<area shape="poly" title=" " alt="" coords="370,177,266,197,221,211,192,227,176,246,169,264,167,310,167,386,171,402,181,417,198,431,221,444,279,467,349,486,502,512,625,524,624,530,501,517,348,491,277,472,218,449,195,436,177,421,166,404,162,386,162,310,164,263,172,243,188,223,219,206,265,192,369,172"/>
<area shape="rect" title=" " alt="" coords="203,225,273,251"/>
<area shape="poly" title=" " alt="" coords="402,180,283,223,282,218,400,175"/>
<area shape="rect" title=" " alt="" coords="831,225,901,251"/>
<area shape="poly" title=" " alt="" coords="496,174,817,226,816,231,495,179"/>
<area shape="rect" title=" " alt="" coords="441,519,507,544"/>
<area shape="poly" title=" " alt="" coords="404,180,370,199,339,227,325,247,318,265,314,310,314,386,317,408,325,428,338,447,354,463,392,491,431,511,429,516,390,496,351,467,334,450,321,431,312,410,309,386,309,310,312,264,320,245,335,224,367,195,402,175"/>
<area shape="rect" title=" " alt="" coords="349,225,420,251"/>
<area shape="poly" title=" " alt="" coords="427,179,402,216,398,213,423,176"/>
<area shape="rect" title=" " alt="" coords="445,225,519,251"/>
<area shape="poly" title=" " alt="" coords="443,176,468,213,464,216,439,179"/>
<area shape="rect" title=" " alt="" coords="544,225,631,251"/>
<area shape="poly" title=" " alt="" coords="459,175,551,217,549,222,456,180"/>
<area shape="rect" href="refcount_8h.html" title="Reference counter mechanism." alt="" coords="655,225,755,251"/>
<area shape="poly" title=" " alt="" coords="477,175,648,219,647,224,476,180"/>
<area shape="poly" title=" " alt="" coords="692,253,642,301,616,335,597,373,592,419,595,447,602,469,617,491,637,509,634,513,613,495,597,472,589,448,586,419,591,371,611,332,638,298,688,249"/>
<area shape="poly" title=" " alt="" coords="714,250,737,286,732,288,710,252"/>
<area shape="rect" title=" " alt="" coords="607,372,691,397"/>
<area shape="poly" title=" " alt="" coords="734,326,678,366,675,362,731,322"/>
<area shape="rect" title=" " alt="" coords="715,372,783,397"/>
<area shape="poly" title=" " alt="" coords="751,324,751,358,746,358,746,324"/>
<area shape="poly" title=" " alt="" coords="766,322,819,361,816,366,763,326"/>
<area shape="poly" title=" " alt="" coords="845,398,833,434,822,454,808,473,786,490,760,504,711,523,709,518,758,500,783,486,804,469,818,452,828,432,840,397"/>
<area shape="rect" title=" " alt="" coords="611,445,715,471"/>
<area shape="poly" title=" " alt="" coords="817,400,707,443,705,438,815,395"/>
<area shape="rect" href="log_8h.html" title="Buffered logging (headers)" alt="" coords="740,445,795,471"/>
<area shape="poly" title=" " alt="" coords="834,399,792,438,788,434,830,395"/>
<area shape="poly" title=" " alt="" coords="753,473,696,513,693,508,750,469"/>
<area shape="poly" title=" " alt="" coords="741,470,728,473,522,522,521,517,727,468,739,465"/>
<area shape="poly" title=" " alt="" coords="1009,178,999,235,993,310,993,386,990,408,984,428,961,461,926,486,884,505,838,518,792,526,711,532,711,527,791,521,837,512,883,500,924,482,957,457,979,426,985,407,987,386,987,310,994,234,1004,177"/>
<area shape="poly" title=" " alt="" coords="987,180,903,221,900,217,985,175"/>
<area shape="rect" title=" " alt="" coords="1028,225,1112,251"/>
<area shape="poly" title=" " alt="" coords="1021,176,1053,213,1049,217,1017,179"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4437006d791a93a1f50884c93c115594" id="r_a4437006d791a93a1f50884c93c115594"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a4437006d791a93a1f50884c93c115594">janus_auth_init</a> (gboolean enabled, const char *secret)</td></tr>
<tr class="memdesc:a4437006d791a93a1f50884c93c115594"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to initializing the token based authentication.  <br /></td></tr>
<tr class="separator:a4437006d791a93a1f50884c93c115594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2794f480cae293d60625f4c2d3e6ea32" id="r_a2794f480cae293d60625f4c2d3e6ea32"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a2794f480cae293d60625f4c2d3e6ea32">janus_auth_is_enabled</a> (void)</td></tr>
<tr class="memdesc:a2794f480cae293d60625f4c2d3e6ea32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check whether the mechanism is enabled or not.  <br /></td></tr>
<tr class="separator:a2794f480cae293d60625f4c2d3e6ea32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd87fec0c638eb1e2a6d6c86eddd825" id="r_a7fd87fec0c638eb1e2a6d6c86eddd825"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a7fd87fec0c638eb1e2a6d6c86eddd825">janus_auth_is_stored_mode</a> (void)</td></tr>
<tr class="memdesc:a7fd87fec0c638eb1e2a6d6c86eddd825"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check whether the mechanism is in stored-token mode or not.  <br /></td></tr>
<tr class="separator:a7fd87fec0c638eb1e2a6d6c86eddd825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990465b36aa40a2d60e5e8aa49802472" id="r_a990465b36aa40a2d60e5e8aa49802472"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a990465b36aa40a2d60e5e8aa49802472">janus_auth_is_signed_mode</a> (void)</td></tr>
<tr class="memdesc:a990465b36aa40a2d60e5e8aa49802472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check whether the mechanism is in signed-token mode or not.  <br /></td></tr>
<tr class="separator:a990465b36aa40a2d60e5e8aa49802472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b4f7fc738770d4cd6f8e70557aeb32" id="r_a43b4f7fc738770d4cd6f8e70557aeb32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a43b4f7fc738770d4cd6f8e70557aeb32">janus_auth_deinit</a> (void)</td></tr>
<tr class="memdesc:a43b4f7fc738770d4cd6f8e70557aeb32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to de-initialize the mechanism.  <br /></td></tr>
<tr class="separator:a43b4f7fc738770d4cd6f8e70557aeb32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0b314f55c88fafadabaa5b58bef759" id="r_a7d0b314f55c88fafadabaa5b58bef759"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a7d0b314f55c88fafadabaa5b58bef759">janus_auth_check_signature</a> (const char *token, const char *realm)</td></tr>
<tr class="memdesc:a7d0b314f55c88fafadabaa5b58bef759"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check whether a signed token is valid.  <br /></td></tr>
<tr class="separator:a7d0b314f55c88fafadabaa5b58bef759"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f9d87f4b2019a83bd698e8c0a029bb" id="r_af5f9d87f4b2019a83bd698e8c0a029bb"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#af5f9d87f4b2019a83bd698e8c0a029bb">janus_auth_check_signature_contains</a> (const char *token, const char *realm, const char *desc)</td></tr>
<tr class="memdesc:af5f9d87f4b2019a83bd698e8c0a029bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to verify a signed token contains a descriptor.  <br /></td></tr>
<tr class="separator:af5f9d87f4b2019a83bd698e8c0a029bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06049dda9f7795c758586122bb965f64" id="r_a06049dda9f7795c758586122bb965f64"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a06049dda9f7795c758586122bb965f64">janus_auth_add_token</a> (const char *token)</td></tr>
<tr class="memdesc:a06049dda9f7795c758586122bb965f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to add a new valid token for authenticating.  <br /></td></tr>
<tr class="separator:a06049dda9f7795c758586122bb965f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cff1bdd060165a74f3b60da94148348" id="r_a9cff1bdd060165a74f3b60da94148348"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a9cff1bdd060165a74f3b60da94148348">janus_auth_check_token</a> (const char *token)</td></tr>
<tr class="memdesc:a9cff1bdd060165a74f3b60da94148348"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check whether a provided token is valid or not.  <br /></td></tr>
<tr class="separator:a9cff1bdd060165a74f3b60da94148348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41bd48faa0843fdd142d129d8feda3ac" id="r_a41bd48faa0843fdd142d129d8feda3ac"><td class="memItemLeft" align="right" valign="top">GList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a41bd48faa0843fdd142d129d8feda3ac">janus_auth_list_tokens</a> (void)</td></tr>
<tr class="memdesc:a41bd48faa0843fdd142d129d8feda3ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return a list of the tokens.  <br /></td></tr>
<tr class="separator:a41bd48faa0843fdd142d129d8feda3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0b6c2962c26c09a5141d664ee42d8c" id="r_a3c0b6c2962c26c09a5141d664ee42d8c"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a3c0b6c2962c26c09a5141d664ee42d8c">janus_auth_remove_token</a> (const char *token)</td></tr>
<tr class="memdesc:a3c0b6c2962c26c09a5141d664ee42d8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to invalidate an existing token.  <br /></td></tr>
<tr class="separator:a3c0b6c2962c26c09a5141d664ee42d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26749f34b086fb3f9240b37bf2b1457c" id="r_a26749f34b086fb3f9240b37bf2b1457c"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a26749f34b086fb3f9240b37bf2b1457c">janus_auth_allow_plugin</a> (const char *token, <a class="el" href="structjanus__plugin.html">janus_plugin</a> *plugin)</td></tr>
<tr class="memdesc:a26749f34b086fb3f9240b37bf2b1457c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to allow a token to use a plugin.  <br /></td></tr>
<tr class="separator:a26749f34b086fb3f9240b37bf2b1457c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032b64b17f6f75433140463ba860f259" id="r_a032b64b17f6f75433140463ba860f259"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a032b64b17f6f75433140463ba860f259">janus_auth_check_plugin</a> (const char *token, <a class="el" href="structjanus__plugin.html">janus_plugin</a> *plugin)</td></tr>
<tr class="memdesc:a032b64b17f6f75433140463ba860f259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to check whether a provided token can access a specified plugin.  <br /></td></tr>
<tr class="separator:a032b64b17f6f75433140463ba860f259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659c483e67f81af9f961f8010cd33dfe" id="r_a659c483e67f81af9f961f8010cd33dfe"><td class="memItemLeft" align="right" valign="top">GList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#a659c483e67f81af9f961f8010cd33dfe">janus_auth_list_plugins</a> (const char *token)</td></tr>
<tr class="memdesc:a659c483e67f81af9f961f8010cd33dfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return a list of the plugins a specific token has access to.  <br /></td></tr>
<tr class="separator:a659c483e67f81af9f961f8010cd33dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a5b3e27c4914fd6b4d97e399a22608" id="r_af8a5b3e27c4914fd6b4d97e399a22608"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="auth_8c.html#af8a5b3e27c4914fd6b4d97e399a22608">janus_auth_disallow_plugin</a> (const char *token, <a class="el" href="structjanus__plugin.html">janus_plugin</a> *plugin)</td></tr>
<tr class="memdesc:af8a5b3e27c4914fd6b4d97e399a22608"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to disallow a token to use a plugin.  <br /></td></tr>
<tr class="separator:af8a5b3e27c4914fd6b4d97e399a22608"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Requests authentication. </p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span class="obfuscator">.nosp@m.</span>zo@m<span class="obfuscator">.nosp@m.</span>eetec<span class="obfuscator">.nosp@m.</span>ho.c<span class="obfuscator">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>Implementation of simple mechanisms for authenticating requests.</p>
<p>If enabled (it's disabled by default), each request must contain a valid token string, * or otherwise the request is rejected with an error.</p>
<p>When no <code>token_auth_secret</code> is set, Stored-token mode is active. In this mode the Janus admin API can be used to specify valid string tokens. Whether tokens should be shared across users or not is completely up to the controlling application: these tokens are completely opaque to Janus, and treated as strings, which means Janus will only check if the token exists or not when asked.</p>
<p>However, if a secret is set, the Signed-token mode is used. In this mode, no direct communication between the controlling application and Janus is necessary. Instead, the application signs tokens that Janus can verify using the secret key.</p>
<p><a class="el" href="group__core.html">Core</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a06049dda9f7795c758586122bb965f64" name="a06049dda9f7795c758586122bb965f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06049dda9f7795c758586122bb965f64">&#9670;&#160;</a></span>janus_auth_add_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_add_token </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to add a new valid token for authenticating. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The new valid token </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the operation was successful, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a26749f34b086fb3f9240b37bf2b1457c" name="a26749f34b086fb3f9240b37bf2b1457c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26749f34b086fb3f9240b37bf2b1457c">&#9670;&#160;</a></span>janus_auth_allow_plugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_allow_plugin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td>
          <td class="paramname"><em>plugin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to allow a token to use a plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token that can now access this plugin </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plugin</td><td>Opaque pointer to the <a class="el" href="structjanus__plugin.html" title="The plugin session and callbacks interface.">janus_plugin</a> instance this token can access </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the operation was successful, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a032b64b17f6f75433140463ba860f259" name="a032b64b17f6f75433140463ba860f259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032b64b17f6f75433140463ba860f259">&#9670;&#160;</a></span>janus_auth_check_plugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_check_plugin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td>
          <td class="paramname"><em>plugin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check whether a provided token can access a specified plugin. </p>
<dl class="section note"><dt>Note</dt><dd>verifies both token signatures and against stored tokens </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token to check </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plugin</td><td>The plugin to check as an opaque pointer to a <a class="el" href="structjanus__plugin.html" title="The plugin session and callbacks interface.">janus_plugin</a> instance </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the token is allowed to access the plugin, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a7d0b314f55c88fafadabaa5b58bef759" name="a7d0b314f55c88fafadabaa5b58bef759"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d0b314f55c88fafadabaa5b58bef759">&#9670;&#160;</a></span>janus_auth_check_signature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_check_signature </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>realm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check whether a signed token is valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token to validate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">realm</td><td>The token realm </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the signature is valid and not expired, FALSE otherwise </dd></dl>

</div>
</div>
<a id="af5f9d87f4b2019a83bd698e8c0a029bb" name="af5f9d87f4b2019a83bd698e8c0a029bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5f9d87f4b2019a83bd698e8c0a029bb">&#9670;&#160;</a></span>janus_auth_check_signature_contains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_check_signature_contains </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>realm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to verify a signed token contains a descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token to validate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">realm</td><td>The token realm </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">desc</td><td>The descriptor to search for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>When the token based authentication is enabled: TRUE if the token is valid, not expired and contains the descriptor, FALSE otherwise. When the token based authentication is disabled: always TRUE. </dd></dl>

</div>
</div>
<a id="a9cff1bdd060165a74f3b60da94148348" name="a9cff1bdd060165a74f3b60da94148348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cff1bdd060165a74f3b60da94148348">&#9670;&#160;</a></span>janus_auth_check_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_check_token </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check whether a provided token is valid or not. </p>
<dl class="section note"><dt>Note</dt><dd>verifies both token signatures and against stored tokens </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token to validate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the token is valid, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a43b4f7fc738770d4cd6f8e70557aeb32" name="a43b4f7fc738770d4cd6f8e70557aeb32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b4f7fc738770d4cd6f8e70557aeb32">&#9670;&#160;</a></span>janus_auth_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_auth_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to de-initialize the mechanism. </p>

</div>
</div>
<a id="af8a5b3e27c4914fd6b4d97e399a22608" name="af8a5b3e27c4914fd6b4d97e399a22608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a5b3e27c4914fd6b4d97e399a22608">&#9670;&#160;</a></span>janus_auth_disallow_plugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_disallow_plugin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td>
          <td class="paramname"><em>plugin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to disallow a token to use a plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token this operation refers to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">plugin</td><td>Opaque pointer to the <a class="el" href="structjanus__plugin.html" title="The plugin session and callbacks interface.">janus_plugin</a> instance this token can not access anymore </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the operation was successful, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a4437006d791a93a1f50884c93c115594" name="a4437006d791a93a1f50884c93c115594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4437006d791a93a1f50884c93c115594">&#9670;&#160;</a></span>janus_auth_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_auth_init </td>
          <td>(</td>
          <td class="paramtype">gboolean&#160;</td>
          <td class="paramname"><em>enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>secret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to initializing the token based authentication. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enabled</td><td>Whether the authentication mechanism should be enabled or not </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">secret</td><td>the secret to validate signed tokens against, or NULL to use stored tokens </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2794f480cae293d60625f4c2d3e6ea32" name="a2794f480cae293d60625f4c2d3e6ea32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2794f480cae293d60625f4c2d3e6ea32">&#9670;&#160;</a></span>janus_auth_is_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_is_enabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check whether the mechanism is enabled or not. </p>

</div>
</div>
<a id="a990465b36aa40a2d60e5e8aa49802472" name="a990465b36aa40a2d60e5e8aa49802472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a990465b36aa40a2d60e5e8aa49802472">&#9670;&#160;</a></span>janus_auth_is_signed_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_is_signed_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check whether the mechanism is in signed-token mode or not. </p>

</div>
</div>
<a id="a7fd87fec0c638eb1e2a6d6c86eddd825" name="a7fd87fec0c638eb1e2a6d6c86eddd825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fd87fec0c638eb1e2a6d6c86eddd825">&#9670;&#160;</a></span>janus_auth_is_stored_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_is_stored_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to check whether the mechanism is in stored-token mode or not. </p>

</div>
</div>
<a id="a659c483e67f81af9f961f8010cd33dfe" name="a659c483e67f81af9f961f8010cd33dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659c483e67f81af9f961f8010cd33dfe">&#9670;&#160;</a></span>janus_auth_list_plugins()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GList * janus_auth_list_plugins </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to return a list of the plugins a specific token has access to. </p>
<dl class="section note"><dt>Note</dt><dd>It's the caller responsibility to free the list (but NOT the values) </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The token to get the list for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a GList instance containing the liist </dd></dl>

</div>
</div>
<a id="a41bd48faa0843fdd142d129d8feda3ac" name="a41bd48faa0843fdd142d129d8feda3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41bd48faa0843fdd142d129d8feda3ac">&#9670;&#160;</a></span>janus_auth_list_tokens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GList * janus_auth_list_tokens </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to return a list of the tokens. </p>
<dl class="section note"><dt>Note</dt><dd>It's the caller responsibility to free the list and its values </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a GList instance containing the tokens </dd></dl>

</div>
</div>
<a id="a3c0b6c2962c26c09a5141d664ee42d8c" name="a3c0b6c2962c26c09a5141d664ee42d8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c0b6c2962c26c09a5141d664ee42d8c">&#9670;&#160;</a></span>janus_auth_remove_token()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_auth_remove_token </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>token</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to invalidate an existing token. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">token</td><td>The valid to invalidate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the operation was successful, FALSE otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Last updated on Thu Apr 24 2025 &mdash; Janus WebRTC Server &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014-2025
</div>
</body>
</html>
