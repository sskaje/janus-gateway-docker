<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ip-utils.c File Reference</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.2/cerulean/bootstrap.min.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 2001;" src="forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
<div class="container">
	<a class="navbar-brand" href="/">Janus (multistream)</a>
	<button type="button" class="navbar-toggler" data-toggle="collapse" data-target=".navbar-collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="navbar-collapse collapse" id="navbarResponsive">
		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link" href="/">Home</a></li>
			<li class="nav-item"><a class="nav-link" href="/demos/">Demos</a></li>
			<li class="nav-item"><a class="nav-link active" href="index.html">Documentation</a></li>
			<li class="nav-item"><a class="nav-link" href="/citeus.html">Papers</a></li>
			<li class="nav-item"><a class="nav-link" href="/support.html">Need help?</a></li>
			<li class="nav-item"><a class="nav-link" href="https://janus-legacy.conf.meetecho.com/">Janus (0.x)</a></li>
			<li class="nav-item"><a class="nav-link januscon" target="_blank" href="https://januscon.it">JanusCon!</a></li>
		</ul>
		<ul class="navbar-nav ms-auto">
			<li class="nav-item">
				<a class="nav-link meetecho-logo" target="_blank" href="https://www.meetecho.com">
					<img src="meetecho-logo.png"/>
				</a>
			</li>
		</ul>
	</div>
</div>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ip-utils.c File Reference<div class="ingroups"><a class="el" href="group__core.html">Core</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>IP address related utility functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;net/if.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;glib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ip-utils_8h_source.html">ip-utils.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ip-utils.c:</div>
<div class="dyncontent">
<div class="center"><img src="ip-utils_8c__incl.png" border="0" usemap="#aip-utils_8c" alt=""/></div>
<map name="aip-utils_8c" id="aip-utils_8c">
<area shape="rect" title="IP address related utility functions." alt="" coords="504,5,583,31"/>
<area shape="rect" title=" " alt="" coords="5,79,73,104"/>
<area shape="poly" title=" " alt="" coords="504,26,327,45,210,61,87,81,87,76,209,56,327,40,504,20"/>
<area shape="rect" title=" " alt="" coords="97,79,200,104"/>
<area shape="poly" title=" " alt="" coords="504,29,214,81,213,76,503,24"/>
<area shape="rect" title=" " alt="" coords="225,79,321,104"/>
<area shape="poly" title=" " alt="" coords="505,32,330,78,329,73,503,27"/>
<area shape="rect" title=" " alt="" coords="345,79,437,104"/>
<area shape="poly" title=" " alt="" coords="520,33,429,75,427,70,518,28"/>
<area shape="rect" title=" " alt="" coords="461,79,532,104"/>
<area shape="poly" title=" " alt="" coords="538,32,514,69,510,66,533,30"/>
<area shape="rect" title=" " alt="" coords="557,79,623,104"/>
<area shape="poly" title=" " alt="" coords="553,30,577,66,573,69,549,32"/>
<area shape="rect" title=" " alt="" coords="648,79,719,104"/>
<area shape="poly" title=" " alt="" coords="567,28,650,70,647,75,565,33"/>
<area shape="rect" title=" " alt="" coords="743,79,818,104"/>
<area shape="poly" title=" " alt="" coords="582,28,731,72,729,77,581,33"/>
<area shape="rect" title=" " alt="" coords="842,79,901,104"/>
<area shape="poly" title=" " alt="" coords="583,24,829,76,828,81,582,29"/>
<area shape="rect" href="ip-utils_8h.html" title="IP address related utility functions (headers)" alt="" coords="925,79,1004,104"/>
<area shape="poly" title=" " alt="" coords="583,22,724,44,912,76,911,81,723,49,582,28"/>
<area shape="rect" title=" " alt="" coords="869,152,948,177"/>
<area shape="poly" title=" " alt="" coords="958,106,928,143,924,140,953,103"/>
<area shape="rect" title=" " alt="" coords="973,152,1069,177"/>
<area shape="poly" title=" " alt="" coords="976,103,1005,140,1001,143,972,106"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a08cfd593aebe57542ccf1129fe542f47" id="r_a08cfd593aebe57542ccf1129fe542f47"><td class="memItemLeft" align="right" valign="top">const struct ifaddrs *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a08cfd593aebe57542ccf1129fe542f47">janus_network_query_devices</a> (const struct ifaddrs *ifa, const <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *query)</td></tr>
<tr class="memdesc:a08cfd593aebe57542ccf1129fe542f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look up network devices matching the given query. The first matching device is returned, so to find all matching devices simply pass the <code>ifa_next</code> of the returned device in a subsequent call to this function to find more matches.  <br /></td></tr>
<tr class="separator:a08cfd593aebe57542ccf1129fe542f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7a3ab5d0e4f65909192be0196f0803" id="r_aec7a3ab5d0e4f65909192be0196f0803"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#aec7a3ab5d0e4f65909192be0196f0803">janus_network_prepare_device_query</a> (const char *user_value, const <a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a> query_mode, <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *query)</td></tr>
<tr class="memdesc:aec7a3ab5d0e4f65909192be0196f0803"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a network device query.  <br /></td></tr>
<tr class="separator:aec7a3ab5d0e4f65909192be0196f0803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabd51a794fc3901431e866730ba4f589" id="r_aabd51a794fc3901431e866730ba4f589"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#aabd51a794fc3901431e866730ba4f589">janus_network_prepare_device_query_default</a> (const char *user_value, <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *query)</td></tr>
<tr class="memdesc:aabd51a794fc3901431e866730ba4f589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a network device query with default query options. <code>This</code> function will Initialise the query to accept any supported match type.  <br /></td></tr>
<tr class="separator:aabd51a794fc3901431e866730ba4f589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0203f084346bf3b7b8f69759911dad1a" id="r_a0203f084346bf3b7b8f69759911dad1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a0203f084346bf3b7b8f69759911dad1a">janus_network_get_devices_ipv4</a> (const struct ifaddrs *ifa, const <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *query, struct in_addr *result)</td></tr>
<tr class="memdesc:a0203f084346bf3b7b8f69759911dad1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the IPv4 address from a network interface description to the given result structure.  <br /></td></tr>
<tr class="separator:a0203f084346bf3b7b8f69759911dad1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24acba7f6264fa2f5882b77be6862791" id="r_a24acba7f6264fa2f5882b77be6862791"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a24acba7f6264fa2f5882b77be6862791">janus_network_get_devices_ipv6</a> (const struct ifaddrs *ifa, const <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *query, struct in6_addr *result)</td></tr>
<tr class="memdesc:a24acba7f6264fa2f5882b77be6862791"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the IPv6 address from a network interface description to the given result structure.  <br /></td></tr>
<tr class="separator:a24acba7f6264fa2f5882b77be6862791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e687080359210d88e979bb629258f06" id="r_a7e687080359210d88e979bb629258f06"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a7e687080359210d88e979bb629258f06">janus_network_get_device_address</a> (const struct ifaddrs *ifa, <a class="el" href="structjanus__network__address.html">janus_network_address</a> *result)</td></tr>
<tr class="memdesc:a7e687080359210d88e979bb629258f06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the IP address from a network interface description to the given result structure.  <br /></td></tr>
<tr class="separator:a7e687080359210d88e979bb629258f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a621b8002b8bd9757c2f83687174cb" id="r_ad3a621b8002b8bd9757c2f83687174cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#ad3a621b8002b8bd9757c2f83687174cb">janus_network_address_nullify</a> (<a class="el" href="structjanus__network__address.html">janus_network_address</a> *a)</td></tr>
<tr class="memdesc:ad3a621b8002b8bd9757c2f83687174cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given network address to a null/nil value.  <br /></td></tr>
<tr class="separator:ad3a621b8002b8bd9757c2f83687174cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc51f3a0de15e6c3331e32fc0bf5813" id="r_a8dc51f3a0de15e6c3331e32fc0bf5813"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a8dc51f3a0de15e6c3331e32fc0bf5813">janus_network_address_is_null</a> (const <a class="el" href="structjanus__network__address.html">janus_network_address</a> *a)</td></tr>
<tr class="memdesc:a8dc51f3a0de15e6c3331e32fc0bf5813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a given network address is null-valued.  <br /></td></tr>
<tr class="separator:a8dc51f3a0de15e6c3331e32fc0bf5813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac734bde2bae91fb4e88f0e7bf82a1c11" id="r_ac734bde2bae91fb4e88f0e7bf82a1c11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#ac734bde2bae91fb4e88f0e7bf82a1c11">janus_network_address_from_sockaddr</a> (struct sockaddr *s, <a class="el" href="structjanus__network__address.html">janus_network_address</a> *a)</td></tr>
<tr class="memdesc:ac734bde2bae91fb4e88f0e7bf82a1c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a struct sockaddr to a <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a>.  <br /></td></tr>
<tr class="separator:ac734bde2bae91fb4e88f0e7bf82a1c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4692c72d5098142432240639f8285c0" id="r_ae4692c72d5098142432240639f8285c0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#ae4692c72d5098142432240639f8285c0">janus_network_address_to_string_buffer</a> (const <a class="el" href="structjanus__network__address.html">janus_network_address</a> *a, <a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *buf)</td></tr>
<tr class="memdesc:ae4692c72d5098142432240639f8285c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given network address to a form which can be used to extract a human readable network address from.  <br /></td></tr>
<tr class="separator:ae4692c72d5098142432240639f8285c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a709672dab517b7c621ba0c8d0583f491" id="r_a709672dab517b7c621ba0c8d0583f491"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a709672dab517b7c621ba0c8d0583f491">janus_network_address_string_buffer_nullify</a> (<a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *b)</td></tr>
<tr class="memdesc:a709672dab517b7c621ba0c8d0583f491"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given network address string buffer to a null/nil value.  <br /></td></tr>
<tr class="separator:a709672dab517b7c621ba0c8d0583f491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb3add7b7f38f36aea57663990b0051" id="r_a2bb3add7b7f38f36aea57663990b0051"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a2bb3add7b7f38f36aea57663990b0051">janus_network_address_string_buffer_is_null</a> (const <a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *b)</td></tr>
<tr class="memdesc:a2bb3add7b7f38f36aea57663990b0051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a given network address string buffer is null-valued.  <br /></td></tr>
<tr class="separator:a2bb3add7b7f38f36aea57663990b0051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed7276a4aae7b0bf06f93d50fd9ccbc" id="r_a9ed7276a4aae7b0bf06f93d50fd9ccbc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a9ed7276a4aae7b0bf06f93d50fd9ccbc">janus_network_address_string_from_buffer</a> (const <a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *b)</td></tr>
<tr class="memdesc:a9ed7276a4aae7b0bf06f93d50fd9ccbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the human readable representation of a network address from a given buffer.  <br /></td></tr>
<tr class="separator:a9ed7276a4aae7b0bf06f93d50fd9ccbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bcf6c64ebe7b55d874a2974ec3e67e" id="r_a65bcf6c64ebe7b55d874a2974ec3e67e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a65bcf6c64ebe7b55d874a2974ec3e67e">janus_network_string_is_valid_address</a> (<a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a> addr_type, const char *user_value)</td></tr>
<tr class="memdesc:a65bcf6c64ebe7b55d874a2974ec3e67e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if a given IP address string is a valid address of the specified type.  <br /></td></tr>
<tr class="separator:a65bcf6c64ebe7b55d874a2974ec3e67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e4677f0e8cf4dc4dd6472ed21a6cf3" id="r_aa8e4677f0e8cf4dc4dd6472ed21a6cf3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#aa8e4677f0e8cf4dc4dd6472ed21a6cf3">janus_network_string_to_address</a> (<a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a> addr_type, const char *user_value, <a class="el" href="structjanus__network__address.html">janus_network_address</a> *result)</td></tr>
<tr class="memdesc:aa8e4677f0e8cf4dc4dd6472ed21a6cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an IP address string to a <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance.  <br /></td></tr>
<tr class="separator:aa8e4677f0e8cf4dc4dd6472ed21a6cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6789ef34265f9b72688e6710292ee3ea" id="r_a6789ef34265f9b72688e6710292ee3ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a6789ef34265f9b72688e6710292ee3ea">janus_network_lookup_interface</a> (const struct ifaddrs *ifas, const char *iface, <a class="el" href="structjanus__network__address.html">janus_network_address</a> *result)</td></tr>
<tr class="memdesc:a6789ef34265f9b72688e6710292ee3ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert an interface name or IP address to a <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance.  <br /></td></tr>
<tr class="separator:a6789ef34265f9b72688e6710292ee3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cdd4d4530fea32deb7ddb1fd57ba1a" id="r_a56cdd4d4530fea32deb7ddb1fd57ba1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#a56cdd4d4530fea32deb7ddb1fd57ba1a">janus_network_detect_local_ip</a> (<a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a> addr_type, <a class="el" href="structjanus__network__address.html">janus_network_address</a> *result)</td></tr>
<tr class="memdesc:a56cdd4d4530fea32deb7ddb1fd57ba1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to find a valid local IP address, that is an address that can be used to communicate.  <br /></td></tr>
<tr class="separator:a56cdd4d4530fea32deb7ddb1fd57ba1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55b95eb38709dc557ebeb03e5d45980" id="r_ac55b95eb38709dc557ebeb03e5d45980"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#ac55b95eb38709dc557ebeb03e5d45980">janus_network_detect_local_ip_as_string</a> (<a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a> addr_type)</td></tr>
<tr class="memdesc:ac55b95eb38709dc557ebeb03e5d45980"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper to janus_network_detect_local_ip that returns a string instead.  <br /></td></tr>
<tr class="separator:ac55b95eb38709dc557ebeb03e5d45980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e28a8ca51b7b205b30611d45bc5197" id="r_ad1e28a8ca51b7b205b30611d45bc5197"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ip-utils_8c.html#ad1e28a8ca51b7b205b30611d45bc5197">janus_network_resolve_address</a> (const char *host, struct sockaddr_storage *address)</td></tr>
<tr class="memdesc:ad1e28a8ca51b7b205b30611d45bc5197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper inet_pton or getaddrinfo to fill a struct sockaddr_storage structure from an address.  <br /></td></tr>
<tr class="separator:ad1e28a8ca51b7b205b30611d45bc5197"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>IP address related utility functions. </p>
<dl class="section author"><dt>Author</dt><dd>Johan Ouwerkerk <a href="#" onclick="location.href='mai'+'lto:'+'jm.'+'ou'+'wer'+'ke'+'rk@'+'gm'+'ail'+'.c'+'om'; return false;">jm.ou<span class="obfuscator">.nosp@m.</span>werk<span class="obfuscator">.nosp@m.</span>erk@g<span class="obfuscator">.nosp@m.</span>mail<span class="obfuscator">.nosp@m.</span>.com</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>Provides functions to query for network devices with a given device name or address. Devices may be looked up by either a device name or by the IPv4 or IPv6 address of the configured network interface. This functionality may be used to bind to user configurable network devices instead of relying on unpredictable implementation defined defaults. Parsing IPv4/IPv6 addresses is done using inet_pton(), making these functions generally robust against malformed input.</p>
<p><a class="el" href="group__core.html">Core</a> </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ac734bde2bae91fb4e88f0e7bf82a1c11" name="ac734bde2bae91fb4e88f0e7bf82a1c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac734bde2bae91fb4e88f0e7bf82a1c11">&#9670;&#160;</a></span>janus_network_address_from_sockaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_address_from_sockaddr </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a struct sockaddr to a <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The struct sockaddr to convert </td></tr>
    <tr><td class="paramname">a</td><td>The address to write to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -EINVAL otherwise. </dd></dl>

</div>
</div>
<a id="a8dc51f3a0de15e6c3331e32fc0bf5813" name="a8dc51f3a0de15e6c3331e32fc0bf5813"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc51f3a0de15e6c3331e32fc0bf5813">&#9670;&#160;</a></span>janus_network_address_is_null()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_address_is_null </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a given network address is null-valued. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The address to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A positive integer if the given address is null-valued, 0 otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#ad3a621b8002b8bd9757c2f83687174cb" title="Set the given network address to a null/nil value.">janus_network_address_nullify</a></code> </dd></dl>

</div>
</div>
<a id="ad3a621b8002b8bd9757c2f83687174cb" name="ad3a621b8002b8bd9757c2f83687174cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a621b8002b8bd9757c2f83687174cb">&#9670;&#160;</a></span>janus_network_address_nullify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_network_address_nullify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the given network address to a null/nil value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The address to nullify. Nothing is done if the pointer is NULL itself. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#a8dc51f3a0de15e6c3331e32fc0bf5813" title="Test if a given network address is null-valued.">janus_network_address_is_null</a></code> </dd></dl>

</div>
</div>
<a id="a2bb3add7b7f38f36aea57663990b0051" name="a2bb3add7b7f38f36aea57663990b0051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb3add7b7f38f36aea57663990b0051">&#9670;&#160;</a></span>janus_network_address_string_buffer_is_null()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_address_string_buffer_is_null </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a given network address string buffer is null-valued. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The buffer to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A positive integer if the given buffer is null-valued, 0 otherwise. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#a709672dab517b7c621ba0c8d0583f491" title="Set the given network address string buffer to a null/nil value.">janus_network_address_string_buffer_nullify</a></code> </dd></dl>

</div>
</div>
<a id="a709672dab517b7c621ba0c8d0583f491" name="a709672dab517b7c621ba0c8d0583f491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a709672dab517b7c621ba0c8d0583f491">&#9670;&#160;</a></span>janus_network_address_string_buffer_nullify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_network_address_string_buffer_nullify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the given network address string buffer to a null/nil value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The address to nullify. Nothing is done if the pointer is NULL itself. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#a2bb3add7b7f38f36aea57663990b0051" title="Test if a given network address string buffer is null-valued.">janus_network_address_string_buffer_is_null</a></code> </dd></dl>

</div>
</div>
<a id="a9ed7276a4aae7b0bf06f93d50fd9ccbc" name="a9ed7276a4aae7b0bf06f93d50fd9ccbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed7276a4aae7b0bf06f93d50fd9ccbc">&#9670;&#160;</a></span>janus_network_address_string_from_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * janus_network_address_string_from_buffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract the human readable representation of a network address from a given buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The buffer containing the given network </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the human readable representation of the network address inside the given buffer, or NULL if the buffer is invalid or NULL. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#ae4692c72d5098142432240639f8285c0" title="Convert the given network address to a form which can be used to extract a human readable network add...">janus_network_address_to_string_buffer</a></code> </dd></dl>

</div>
</div>
<a id="ae4692c72d5098142432240639f8285c0" name="ae4692c72d5098142432240639f8285c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4692c72d5098142432240639f8285c0">&#9670;&#160;</a></span>janus_network_address_to_string_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_address_to_string_buffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__address__string__buffer.html">janus_network_address_string_buffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the given network address to a form which can be used to extract a human readable network address from. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The address to convert </td></tr>
    <tr><td class="paramname">buf</td><td>A buffer to contain the human readable form. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -EINVAL if any argument is NULL. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a></code> </dd>
<dd>
<code><a class="el" href="structjanus__network__address__string__buffer.html" title="Structure to hold human readable forms of network addresses in a tagged union which should be IPv4 an...">janus_network_address_string_buffer</a></code> </dd>
<dd>
<code><a class="el" href="ip-utils_8h.html#a9ed7276a4aae7b0bf06f93d50fd9ccbc" title="Extract the human readable representation of a network address from a given buffer.">janus_network_address_string_from_buffer</a></code> </dd>
<dd>
man 3 inet_ntop </dd></dl>

</div>
</div>
<a id="a56cdd4d4530fea32deb7ddb1fd57ba1a" name="a56cdd4d4530fea32deb7ddb1fd57ba1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56cdd4d4530fea32deb7ddb1fd57ba1a">&#9670;&#160;</a></span>janus_network_detect_local_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_detect_local_ip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a>&#160;</td>
          <td class="paramname"><em>addr_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to find a valid local IP address, that is an address that can be used to communicate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr_type</td><td>The type of address you're interested in (janus_network_query_options_ipv4, janus_network_query_options_ipv6 or janus_network_query_options_any_ip) </td></tr>
    <tr><td class="paramname">result</td><td>Pointer to a valid <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance that will contain the result </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, -EINVAL otherwise </dd></dl>

</div>
</div>
<a id="ac55b95eb38709dc557ebeb03e5d45980" name="ac55b95eb38709dc557ebeb03e5d45980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac55b95eb38709dc557ebeb03e5d45980">&#9670;&#160;</a></span>janus_network_detect_local_ip_as_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * janus_network_detect_local_ip_as_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a>&#160;</td>
          <td class="paramname"><em>addr_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper to janus_network_detect_local_ip that returns a string instead. </p>
<dl class="section note"><dt>Note</dt><dd>The string is allocated with g_strdup and so needs to be freed by the caller </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr_type</td><td>The type of address you're interested in (janus_network_query_options_ipv4, janus_network_query_options_ipv6 or janus_network_query_options_any_ip) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, -EINVAL otherwise </dd></dl>

</div>
</div>
<a id="a7e687080359210d88e979bb629258f06" name="a7e687080359210d88e979bb629258f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e687080359210d88e979bb629258f06">&#9670;&#160;</a></span>janus_network_get_device_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_get_device_address </td>
          <td>(</td>
          <td class="paramtype">const struct ifaddrs *&#160;</td>
          <td class="paramname"><em>ifa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the IP address from a network interface description to the given result structure. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -EINVAL if any argument is NULL or the given network interface does not correspond to an IP address. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a></code> </dd></dl>

</div>
</div>
<a id="a0203f084346bf3b7b8f69759911dad1a" name="a0203f084346bf3b7b8f69759911dad1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0203f084346bf3b7b8f69759911dad1a">&#9670;&#160;</a></span>janus_network_get_devices_ipv4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_get_devices_ipv4 </td>
          <td>(</td>
          <td class="paramtype">const struct ifaddrs *&#160;</td>
          <td class="paramname"><em>ifa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in_addr *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the IPv4 address from a network interface description to the given result structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ifa</td><td>The network interface description to grab the IPv4 address from. It should be obtained with <code><a class="el" href="ip-utils_8h.html#a81a52e4b734fbef48ea115c901b278c5" title="Look up network devices matching the given query. The first matching device is returned,...">janus_network_query_devices()</a></code>. </td></tr>
    <tr><td class="paramname">query</td><td>A description of the criteria to look for when determining whether or not a network interface is a match </td></tr>
    <tr><td class="paramname">result</td><td>Pointer to a structure to populate with the IPv4 address of the given network interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL if any argument is NULL or the network interface description or the network device query do not correspond to an IPv4 configuration. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>man 7 ip </dd>
<dd>
<code><a class="el" href="ip-utils_8h.html#a81a52e4b734fbef48ea115c901b278c5" title="Look up network devices matching the given query. The first matching device is returned,...">janus_network_query_devices</a></code> </dd></dl>

</div>
</div>
<a id="a24acba7f6264fa2f5882b77be6862791" name="a24acba7f6264fa2f5882b77be6862791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24acba7f6264fa2f5882b77be6862791">&#9670;&#160;</a></span>janus_network_get_devices_ipv6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_get_devices_ipv6 </td>
          <td>(</td>
          <td class="paramtype">const struct ifaddrs *&#160;</td>
          <td class="paramname"><em>ifa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct in6_addr *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copies the IPv6 address from a network interface description to the given result structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ifa</td><td>The network interface description to grab the IPv6 address from. It should be obtained with <code><a class="el" href="ip-utils_8h.html#a81a52e4b734fbef48ea115c901b278c5" title="Look up network devices matching the given query. The first matching device is returned,...">janus_network_query_devices()</a></code>. </td></tr>
    <tr><td class="paramname">query</td><td>A description of the criteria to look for when determining whether or not a network interface is a match </td></tr>
    <tr><td class="paramname">result</td><td>Pointer to a structure to populate with the IPv6 address of the given network interface </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -EINVAL if any argument is NULL or the network interface description or the network device query do not correspond to an IPv6 configuration. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>man 7 ipv6 </dd>
<dd>
<code><a class="el" href="ip-utils_8h.html#a81a52e4b734fbef48ea115c901b278c5" title="Look up network devices matching the given query. The first matching device is returned,...">janus_network_query_devices</a></code> </dd></dl>

</div>
</div>
<a id="a6789ef34265f9b72688e6710292ee3ea" name="a6789ef34265f9b72688e6710292ee3ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6789ef34265f9b72688e6710292ee3ea">&#9670;&#160;</a></span>janus_network_lookup_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_lookup_interface </td>
          <td>(</td>
          <td class="paramtype">const struct ifaddrs *&#160;</td>
          <td class="paramname"><em>ifas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>iface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an interface name or IP address to a <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ifas</td><td>The list of interfaces to look into (e.g., as returned from getifaddrs) </td></tr>
    <tr><td class="paramname">iface</td><td>The interface name or IP address to look for </td></tr>
    <tr><td class="paramname">result</td><td>Pointer to a valid <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance that will contain the result </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, -EINVAL otherwise </dd></dl>

</div>
</div>
<a id="aec7a3ab5d0e4f65909192be0196f0803" name="aec7a3ab5d0e4f65909192be0196f0803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7a3ab5d0e4f65909192be0196f0803">&#9670;&#160;</a></span>janus_network_prepare_device_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_prepare_device_query </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a>&#160;</td>
          <td class="paramname"><em>query_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a network device query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_value</td><td>The user-supplied string which is supposed to describe either the device name or its IP address. </td></tr>
    <tr><td class="paramname">query_mode</td><td>(A mask of) Options describing the supported types of matches which should be accepted when performing a look up with this query. This can be used to restrict the query to 'by device name' or 'IPv4 only' type searches. </td></tr>
    <tr><td class="paramname">query</td><td>The query object to configure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or -EINVAL if any of the arguments are NULL or the given value to look for does not correspond to a valid IPv4/IPv6 address and matching by name is disabled. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a></code> </dd></dl>

</div>
</div>
<a id="aabd51a794fc3901431e866730ba4f589" name="aabd51a794fc3901431e866730ba4f589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabd51a794fc3901431e866730ba4f589">&#9670;&#160;</a></span>janus_network_prepare_device_query_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_prepare_device_query_default </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a network device query with default query options. <code>This</code> function will Initialise the query to accept any supported match type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_value</td><td>The user-supplied string which is supposed to describe either the device name or its IP address. </td></tr>
    <tr><td class="paramname">query</td><td>The query object to configure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -EINVAL if any of the arguments are NULL </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code><a class="el" href="ip-utils_8h.html#aec7a3ab5d0e4f65909192be0196f0803" title="Initialise a network device query.">janus_network_prepare_device_query</a></code> </dd></dl>

</div>
</div>
<a id="a08cfd593aebe57542ccf1129fe542f47" name="a08cfd593aebe57542ccf1129fe542f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08cfd593aebe57542ccf1129fe542f47">&#9670;&#160;</a></span>janus_network_query_devices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct ifaddrs * janus_network_query_devices </td>
          <td>(</td>
          <td class="paramtype">const struct ifaddrs *&#160;</td>
          <td class="paramname"><em>ifas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structjanus__network__query__config.html">janus_network_query_config</a> *&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look up network devices matching the given query. The first matching device is returned, so to find all matching devices simply pass the <code>ifa_next</code> of the returned device in a subsequent call to this function to find more matches. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ifas</td><td>The first node of the list of network interfaces to search through. This should be obtained (indirectly) from <code>getifaddrs()</code>. </td></tr>
    <tr><td class="paramname">query</td><td>A description of the criteria to look for when determining whether or not a network interface is a match. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a node describing the matching network interface or <code>NULL</code> if no (further) match was found. </dd></dl>
<dl class="section see"><dt>See also</dt><dd>man 3 getifaddrs </dd></dl>

</div>
</div>
<a id="ad1e28a8ca51b7b205b30611d45bc5197" name="ad1e28a8ca51b7b205b30611d45bc5197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e28a8ca51b7b205b30611d45bc5197">&#9670;&#160;</a></span>janus_network_resolve_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_resolve_address </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct sockaddr_storage *&#160;</td>
          <td class="paramname"><em>address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper inet_pton or getaddrinfo to fill a struct sockaddr_storage structure from an address. </p>
<dl class="section note"><dt>Note</dt><dd>The method will only do inet_pton if it detects a numeric address, and will perform a getaddrinfo otherwise. Notice that, since the request is synchronous, it may have to wait for a DNS response to that request. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">host</td><td>The address to resolve </td></tr>
    <tr><td class="paramname">address</td><td>A pointer to the struct sockaddr_storage to write the result to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, a negative integer otherwise </dd></dl>

</div>
</div>
<a id="a65bcf6c64ebe7b55d874a2974ec3e67e" name="a65bcf6c64ebe7b55d874a2974ec3e67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65bcf6c64ebe7b55d874a2974ec3e67e">&#9670;&#160;</a></span>janus_network_string_is_valid_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_string_is_valid_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a>&#160;</td>
          <td class="paramname"><em>addr_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if a given IP address string is a valid address of the specified type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr_type</td><td>The type of address you're interested in (janus_network_query_options_ipv4, janus_network_query_options_ipv6 or janus_network_query_options_any_ip) </td></tr>
    <tr><td class="paramname">user_value</td><td>The IP address string to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A positive integer if the given string is a valid address, 0 otherwise. </dd></dl>

</div>
</div>
<a id="aa8e4677f0e8cf4dc4dd6472ed21a6cf3" name="aa8e4677f0e8cf4dc4dd6472ed21a6cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e4677f0e8cf4dc4dd6472ed21a6cf3">&#9670;&#160;</a></span>janus_network_string_to_address()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_network_string_to_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ip-utils_8h.html#a0e96b067f42a88d58958dcf5332921ad">janus_network_query_options</a>&#160;</td>
          <td class="paramname"><em>addr_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>user_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__network__address.html">janus_network_address</a> *&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert an IP address string to a <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr_type</td><td>The type of address you're interested in (janus_network_query_options_ipv4, janus_network_query_options_ipv6 or janus_network_query_options_any_ip) </td></tr>
    <tr><td class="paramname">user_value</td><td>The IP address string to check </td></tr>
    <tr><td class="paramname">result</td><td>Pointer to a valid <a class="el" href="structjanus__network__address.html" title="Structure to hold network addresses in a tagged union which should be IPv4 and IPv6 compatible....">janus_network_address</a> instance that will contain the result </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, -EINVAL otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Last updated on Thu Apr 24 2025 &mdash; Janus WebRTC Server &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014-2025
</div>
</body>
</html>
