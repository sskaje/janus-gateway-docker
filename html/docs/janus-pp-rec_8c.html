<!-- HTML header for doxygen 1.8.18-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>janus-pp-rec.c File Reference</title>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/5.3.2/cerulean/bootstrap.min.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 2001;" src="forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
<div class="container">
	<a class="navbar-brand" href="/">Janus (multistream)</a>
	<button type="button" class="navbar-toggler" data-toggle="collapse" data-target=".navbar-collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="navbar-collapse collapse" id="navbarResponsive">
		<ul class="navbar-nav">
			<li class="nav-item"><a class="nav-link" href="/">Home</a></li>
			<li class="nav-item"><a class="nav-link" href="/demos/">Demos</a></li>
			<li class="nav-item"><a class="nav-link active" href="index.html">Documentation</a></li>
			<li class="nav-item"><a class="nav-link" href="/citeus.html">Papers</a></li>
			<li class="nav-item"><a class="nav-link" href="/support.html">Need help?</a></li>
			<li class="nav-item"><a class="nav-link" href="https://janus-legacy.conf.meetecho.com/">Janus (0.x)</a></li>
			<li class="nav-item"><a class="nav-link januscon" target="_blank" href="https://januscon.it">JanusCon!</a></li>
		</ul>
		<ul class="navbar-nav ms-auto">
			<li class="nav-item">
				<a class="nav-link meetecho-logo" target="_blank" href="https://www.meetecho.com">
					<img src="meetecho-logo.png"/>
				</a>
			</li>
		</ul>
	</div>
</div>
</div>
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_e272343b3e18644714a39f7f10eded81.html">postprocessing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">janus-pp-rec.c File Reference<div class="ingroups"><a class="el" href="group__tools.html">Tools and utilities</a> &raquo; <a class="el" href="group__postprocessing.html">Recordings post-processing utility</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Simple utility to post-process .mjr <a class="el" href="recordings.html">Recordings</a> saved by Janus.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;endian.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;jansson.h&gt;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">../debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">../utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-options_8h_source.html">pp-options.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-rtp_8h_source.html">pp-rtp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-webm_8h_source.html">pp-webm.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-h264_8h_source.html">pp-h264.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-av1_8h_source.html">pp-av1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-h265_8h_source.html">pp-h265.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-opus_8h_source.html">pp-opus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-g711_8h_source.html">pp-g711.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-g722_8h_source.html">pp-g722.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-l16_8h_source.html">pp-l16.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-srt_8h_source.html">pp-srt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pp-binary_8h_source.html">pp-binary.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for janus-pp-rec.c:</div>
<div class="dyncontent">
<div class="center"><img src="janus-pp-rec_8c__incl.png" border="0" usemap="#ajanus-pp-rec_8c" alt=""/></div>
<map name="ajanus-pp-rec_8c" id="ajanus-pp-rec_8c">
<area shape="rect" title="Simple utility to post&#45;process .mjr Recordings saved by Janus." alt="" coords="973,5,1087,31"/>
<area shape="rect" title=" " alt="" coords="5,79,97,104"/>
<area shape="poly" title=" " alt="" coords="973,24,612,40,366,57,117,81,112,82,111,77,116,76,366,51,611,34,973,18"/>
<area shape="rect" title=" " alt="" coords="383,225,461,251"/>
<area shape="poly" title=" " alt="" coords="973,21,776,22,518,29,393,36,285,47,205,62,178,71,162,81,153,94,148,106,148,118,153,129,173,150,204,170,244,187,287,202,370,224,368,229,286,207,242,192,202,175,169,155,148,132,143,119,143,105,148,91,159,77,176,66,203,56,284,42,393,31,518,23,775,17,973,16"/>
<area shape="rect" title=" " alt="" coords="1704,79,1791,104"/>
<area shape="poly" title=" " alt="" coords="1088,20,1345,38,1515,54,1691,76,1690,81,1515,59,1345,43,1087,25"/>
<area shape="rect" title=" " alt="" coords="1815,79,1885,104"/>
<area shape="poly" title=" " alt="" coords="1088,18,1390,32,1592,49,1801,76,1801,81,1592,55,1389,38,1087,23"/>
<area shape="rect" title=" " alt="" coords="1909,79,1980,104"/>
<area shape="poly" title=" " alt="" coords="1088,17,1229,21,1427,30,1658,47,1896,76,1895,81,1658,53,1427,35,1228,26,1088,23"/>
<area shape="rect" title=" " alt="" coords="2004,79,2077,104"/>
<area shape="poly" title=" " alt="" coords="1088,17,1242,19,1464,28,1723,46,1858,59,1991,76,1990,81,1857,64,1723,51,1464,33,1242,25,1088,22"/>
<area shape="rect" title=" " alt="" coords="1051,152,1135,177"/>
<area shape="poly" title=" " alt="" coords="1088,21,1148,28,1212,39,1268,55,1290,65,1304,77,1310,91,1304,106,1279,123,1240,138,1149,158,1147,153,1238,133,1277,119,1300,102,1305,91,1300,80,1287,69,1267,60,1211,44,1147,33,1087,26"/>
<area shape="rect" href="debug_8h.html" title="Logging and Debugging." alt="" coords="1367,79,1453,104"/>
<area shape="poly" title=" " alt="" coords="1088,27,1354,77,1353,82,1087,33"/>
<area shape="rect" href="utils_8h.html" title="TURN REST API client." alt="" coords="1478,79,1553,104"/>
<area shape="poly" title=" " alt="" coords="1088,23,1257,44,1465,76,1466,76,1465,81,1464,81,1257,49,1087,28"/>
<area shape="rect" href="pp-options_8h.html" title="Command line options parser for janus&#45;pp&#45;rec." alt="" coords="1577,79,1680,104"/>
<area shape="poly" title=" " alt="" coords="1088,22,1293,43,1564,76,1563,81,1293,48,1087,27"/>
<area shape="rect" href="pp-rtp_8h.html" title="Helper structures to handle RTP post&#45;processing (headers)" alt="" coords="687,152,760,177"/>
<area shape="poly" title=" " alt="" coords="973,27,846,46,788,61,766,71,750,81,740,93,734,108,727,139,722,137,729,106,736,90,747,77,763,66,786,56,845,41,972,22"/>
<area shape="rect" href="pp-webm_8h.html" title="Post&#45;processing to generate .webm files (headers)" alt="" coords="983,79,1077,104"/>
<area shape="poly" title=" " alt="" coords="1033,31,1033,65,1027,65,1027,31"/>
<area shape="rect" href="pp-h264_8h.html" title="Post&#45;processing to generate .mp4 files out of H.264 frames (headers)" alt="" coords="1101,79,1188,104"/>
<area shape="poly" title=" " alt="" coords="1050,28,1116,69,1113,74,1047,33"/>
<area shape="rect" href="pp-av1_8h.html" title="Post&#45;processing to generate .mp4 files out of AV1 frames (headers)" alt="" coords="1212,79,1291,104"/>
<area shape="poly" title=" " alt="" coords="1066,28,1204,72,1202,77,1065,33"/>
<area shape="rect" href="pp-h265_8h.html" title="Post&#45;processing to generate .mp4 files out of H.265 frames (headers)" alt="" coords="872,79,959,104"/>
<area shape="poly" title=" " alt="" coords="1013,33,947,74,944,69,1010,28"/>
<area shape="rect" href="pp-opus_8h.html" title="Post&#45;processing to generate .opus files (headers)" alt="" coords="599,79,685,104"/>
<area shape="poly" title=" " alt="" coords="973,32,699,82,699,77,972,27"/>
<area shape="rect" href="pp-g711_8h.html" title="Post&#45;processing to generate .wav files (headers)" alt="" coords="761,79,848,104"/>
<area shape="poly" title=" " alt="" coords="995,33,855,77,853,72,993,28"/>
<area shape="rect" href="pp-g722_8h.html" title="Post&#45;processing to generate .wav files from G.722 (headers)" alt="" coords="173,79,260,104"/>
<area shape="poly" title=" " alt="" coords="972,24,677,41,479,58,274,81,274,76,479,52,677,36,972,19"/>
<area shape="rect" href="pp-l16_8h.html" title="Post&#45;processing to generate .wav files out of L16 frames (headers)" alt="" coords="285,79,359,104"/>
<area shape="poly" title=" " alt="" coords="973,25,716,42,548,58,373,81,373,76,547,53,716,36,972,19"/>
<area shape="rect" href="pp-srt_8h.html" title="Post&#45;processing to generate .srt files (headers)" alt="" coords="383,79,455,104"/>
<area shape="poly" title=" " alt="" coords="973,26,755,44,615,60,469,81,468,76,614,55,755,39,972,20"/>
<area shape="rect" href="pp-binary_8h.html" title="Post&#45;processing to generate binary files out of binary data recordings (headers)" alt="" coords="480,79,575,104"/>
<area shape="poly" title=" " alt="" coords="973,29,804,50,588,81,587,76,804,44,972,23"/>
<area shape="rect" title=" " alt="" coords="1402,225,1461,251"/>
<area shape="poly" title=" " alt="" coords="1414,104,1430,211,1425,212,1409,105"/>
<area shape="rect" title=" " alt="" coords="1290,152,1394,177"/>
<area shape="poly" title=" " alt="" coords="1401,106,1365,144,1361,140,1397,102"/>
<area shape="rect" href="log_8h.html" title="Buffered logging (headers)" alt="" coords="1211,152,1265,177"/>
<area shape="poly" title=" " alt="" coords="1383,106,1279,149,1277,144,1381,102"/>
<area shape="poly" title=" " alt="" coords="1267,174,1390,219,1388,224,1265,179"/>
<area shape="rect" title=" " alt="" coords="771,225,838,251"/>
<area shape="poly" title=" " alt="" coords="1211,176,1192,180,1004,212,852,233,852,228,1003,207,1191,175,1210,171"/>
<area shape="poly" title=" " alt="" coords="1478,104,1465,107,1293,136,1149,158,1148,153,1292,131,1464,101,1477,99"/>
<area shape="poly" title=" " alt="" coords="1529,103,1553,137,1559,158,1554,179,1538,197,1518,212,1475,230,1473,225,1515,207,1534,193,1549,176,1553,158,1548,139,1525,106"/>
<area shape="rect" title=" " alt="" coords="1469,152,1540,177"/>
<area shape="poly" title=" " alt="" coords="1516,105,1511,139,1506,138,1511,104"/>
<area shape="poly" title=" " alt="" coords="1626,105,1607,141,1592,161,1574,179,1551,196,1525,210,1475,228,1473,223,1523,205,1548,191,1571,175,1588,158,1602,138,1621,103"/>
<area shape="rect" href="version_8h.html" title="Janus GitHub versioning (headers)" alt="" coords="1667,152,1761,177"/>
<area shape="poly" title=" " alt="" coords="1644,102,1691,141,1688,145,1641,106"/>
<area shape="poly" title=" " alt="" coords="687,177,475,227,474,222,686,172"/>
<area shape="poly" title=" " alt="" coords="761,167,1389,230,1388,235,760,172"/>
<area shape="poly" title=" " alt="" coords="1042,103,1075,140,1071,143,1038,106"/>
<area shape="poly" title=" " alt="" coords="1013,106,836,220,833,215,1011,102"/>
<area shape="poly" title=" " alt="" coords="983,106,774,154,773,149,982,101"/>
<area shape="poly" title=" " alt="" coords="1138,106,1111,142,1107,139,1134,103"/>
<area shape="poly" title=" " alt="" coords="1118,107,845,222,843,218,1116,102"/>
<area shape="poly" title=" " alt="" coords="1102,104,1089,107,774,158,773,153,1088,101,1101,99"/>
<area shape="poly" title=" " alt="" coords="1227,106,1132,149,1130,144,1225,102"/>
<area shape="poly" title=" " alt="" coords="1243,106,1204,143,1177,163,1147,180,1069,207,988,225,913,234,852,239,852,233,912,229,987,220,1067,202,1145,175,1174,159,1200,139,1239,102"/>
<area shape="poly" title=" " alt="" coords="1212,104,1200,107,962,141,774,161,774,156,961,135,1199,101,1211,99"/>
<area shape="poly" title=" " alt="" coords="945,102,1052,144,1050,149,943,106"/>
<area shape="poly" title=" " alt="" coords="908,106,824,216,820,213,904,103"/>
<area shape="poly" title=" " alt="" coords="885,107,769,149,767,144,884,102"/>
<area shape="poly" title=" " alt="" coords="646,104,655,139,664,158,676,176,694,191,715,204,759,223,757,228,713,209,691,196,672,179,659,161,650,141,641,105"/>
<area shape="poly" title=" " alt="" coords="657,102,702,141,698,145,653,106"/>
<area shape="poly" title=" " alt="" coords="807,104,807,212,802,212,802,104"/>
<area shape="poly" title=" " alt="" coords="793,106,749,145,745,141,790,102"/>
<area shape="poly" title=" " alt="" coords="246,102,343,137,465,175,625,208,758,228,757,233,624,213,464,180,341,142,244,107"/>
<area shape="poly" title=" " alt="" coords="260,99,273,101,496,134,673,155,672,160,495,139,272,107,260,104"/>
<area shape="poly" title=" " alt="" coords="349,102,435,137,544,175,659,205,759,226,757,231,658,210,543,180,433,142,347,107"/>
<area shape="poly" title=" " alt="" coords="360,99,372,101,537,131,673,153,672,158,536,137,371,107,359,104"/>
<area shape="poly" title=" " alt="" coords="443,102,515,136,606,175,686,202,759,222,757,227,685,207,604,180,512,141,441,107"/>
<area shape="poly" title=" " alt="" coords="456,99,468,101,674,149,673,154,467,107,455,104"/>
<area shape="poly" title=" " alt="" coords="544,102,592,137,654,175,708,200,759,219,757,224,706,205,651,180,589,141,541,106"/>
<area shape="poly" title=" " alt="" coords="560,102,679,145,678,150,558,107"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjanus__pp__rtp__skew__context.html">janus_pp_rtp_skew_context</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a60376e37269bc6a324cc381654a0e272" id="r_a60376e37269bc6a324cc381654a0e272"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a60376e37269bc6a324cc381654a0e272">SKEW_DETECTION_WAIT_TIME_SECS</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a60376e37269bc6a324cc381654a0e272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3bc33db0b05a8497446e0eb8d55777a" id="r_ae3bc33db0b05a8497446e0eb8d55777a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#ae3bc33db0b05a8497446e0eb8d55777a">DEFAULT_AUDIO_SKEW_TH</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ae3bc33db0b05a8497446e0eb8d55777a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1722c9416e237f44270b09057d324f" id="r_a6c1722c9416e237f44270b09057d324f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a6c1722c9416e237f44270b09057d324f">DEFAULT_SILENCE_DISTANCE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a6c1722c9416e237f44270b09057d324f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af172ba4d07b2aa4bfda5882b0e795389" id="r_af172ba4d07b2aa4bfda5882b0e795389"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#af172ba4d07b2aa4bfda5882b0e795389">DEFAULT_RESTAMP_MULTIPLIER</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:af172ba4d07b2aa4bfda5882b0e795389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cc89d909942cd2647990a62a6d9cce8" id="r_a3cc89d909942cd2647990a62a6d9cce8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a3cc89d909942cd2647990a62a6d9cce8">DEFAULT_RESTAMP_MIN_TH</a>&#160;&#160;&#160;500</td></tr>
<tr class="separator:a3cc89d909942cd2647990a62a6d9cce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674f6e294a26ef3a44ae57601f83882f" id="r_a674f6e294a26ef3a44ae57601f83882f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a674f6e294a26ef3a44ae57601f83882f">DEFAULT_RESTAMP_PACKETS</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a674f6e294a26ef3a44ae57601f83882f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a607ddb29b9822717ba7c6699bad1adaf" id="r_a607ddb29b9822717ba7c6699bad1adaf"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjanus__pp__rtp__skew__context.html">janus_pp_rtp_skew_context</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a607ddb29b9822717ba7c6699bad1adaf">janus_pp_rtp_skew_context</a></td></tr>
<tr class="separator:a607ddb29b9822717ba7c6699bad1adaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a088c96466927bd862dc82c044bad6502" id="r_a088c96466927bd862dc82c044bad6502"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a088c96466927bd862dc82c044bad6502">janus_log_level</a> = 4</td></tr>
<tr class="separator:a088c96466927bd862dc82c044bad6502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160e98caa31c5e01432a6c262fcc52b1" id="r_a160e98caa31c5e01432a6c262fcc52b1"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#a160e98caa31c5e01432a6c262fcc52b1">janus_log_timestamps</a> = FALSE</td></tr>
<tr class="separator:a160e98caa31c5e01432a6c262fcc52b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25104eafbf4e010c3c73f7c88ddf0c4" id="r_ac25104eafbf4e010c3c73f7c88ddf0c4"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#ac25104eafbf4e010c3c73f7c88ddf0c4">janus_log_colors</a> = TRUE</td></tr>
<tr class="separator:ac25104eafbf4e010c3c73f7c88ddf0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af673dbb85e1a3d742b67ac681ef2679a" id="r_af673dbb85e1a3d742b67ac681ef2679a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#af673dbb85e1a3d742b67ac681ef2679a">janus_log_global_prefix</a> = NULL</td></tr>
<tr class="separator:af673dbb85e1a3d742b67ac681ef2679a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b86c5b5d959f4dac77a7b8604f6361" id="r_aa2b86c5b5d959f4dac77a7b8604f6361"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus-pp-rec_8c.html#aa2b86c5b5d959f4dac77a7b8604f6361">lock_debug</a> = 0</td></tr>
<tr class="separator:aa2b86c5b5d959f4dac77a7b8604f6361"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple utility to post-process .mjr <a class="el" href="recordings.html">Recordings</a> saved by Janus. </p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span class="obfuscator">.nosp@m.</span>zo@m<span class="obfuscator">.nosp@m.</span>eetec<span class="obfuscator">.nosp@m.</span>ho.c<span class="obfuscator">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>As explained in the <a class="el" href="recordings.html">Recordings</a> documentation, our Janus WebRTC server provides a simple helper (<a class="el" href="structjanus__recorder.html" title="Structure that represents a recorder.">janus_recorder</a>) to allow plugins to record audio, video and text frames sent by users. At the time of writing, this helper has been integrated in several plugins in Janus. To keep things simple on the Janus side, though, no processing at all is done in the recording step: this means that the recorder actually only dumps the RTP frames it receives to a file in a structured way, so that they can be post-processed later on to extract playable media files. This utility allows you to process those files, in order to get a working media file you can playout with an external player. The tool will generate a .webm/.mkv if the recording includes VP8 frames, an .opus/.ogg/.mka if the recording includes Opus frames, an .mp4/.mkv if the recording includes H.264/H.265/AV1 frames, and a .wav file if the recording includes G.711 (mu-law or a-law) frames. In case the recording contains text frames as received via data channels, instead, a .srt file will be generated with the text content and the related timing information.</p>
<p>Using the utility is quite simple. Just pass, as arguments to the tool, the path to the .mjr source file you want to post-process, and the path to the destination file, e.g.:</p>
<pre class="fragment">./janus-pp-rec /path/to/source.mjr /path/to/destination.[opus|ogg|mka|wav|webm|mkv|h264|srt]
</pre><p>An attempt to specify an output format that is not compliant with the recording content (e.g., a .webm for H.264 frames) will result in an error since, again, no transcoding is involved.</p>
<p>You can also just print the internal header of the recording, or parse it without processing it (e.g., for debugging), by invoking the tool in a different way:</p>
<pre class="fragment">./janus-pp-rec --json /path/to/source.mjr
./janus-pp-rec --header /path/to/source.mjr
./janus-pp-rec --parse /path/to/source.mjr
</pre><p>For a more complete overview of the available command line settings, launch the tool with no arguments or by passing <code>--help</code> and it will show something like this:</p>
<pre class="fragment">Usage: janus-pp-rec [OPTIONS] source.mjr
[destination.[opus|ogg|mka|wav|webm|mkv|h264|srt]]

  -h, --help                    Print help and exit
  -V, --version                 Print version and exit
  -F, --file-extensions         Only print the supported target file extensions
                                  per codec  (default=off)
  -j, --json                    Only print JSON header  (default=off)
  -H, --header                  Only parse .mjr header  (default=off)
  -p, --parse                   Only parse and re-order packets  (default=off)
  -e, --extended-report         Only print extended report (automatically
                                  enables --header)  (default=off)
  -m, --metadata=metadata       Save this metadata string in the target file
  -i, --ignore-first=count      Number of first packets to ignore when
                                  processing, e.g., in case they're cause of
                                  issues (default=0)
  -P, --payload-type=pt         Ignore all RTP packets that don't match the
                                  specified payload type (default=none)
  -a, --audiolevel-ext=id       ID of the audio-levels RTP extension
                                  (default=none)
  -v, --videoorient-ext=id      ID of the video-orientation RTP extension
                                  (default=none)
  -d, --debug-level=1-7         Debug/logging level (0=disable debugging,
                                  7=maximum debug level; default=4)
  -D, --debug-timestamps        Enable debug/logging timestamps  (default=off)
  -o, --disable-colors          Disable color in the logging  (default=off)
  -f, --format=STRING           Specifies the output format (overrides the
                                  format from the destination)  (possible
                                  values="opus", "ogg", "mka", "wav",
                                  "webm", "mkv", "mp4", "srt")
  -t, --faststart               For mp4 files write the MOOV atom at the head
                                  of the file  (default=off)
  -S, --audioskew=milliseconds  Time threshold to trigger an audio skew
                                  compensation, disabled if 0 (default=0)
  -C, --silence-distance=count  RTP packets distance used to detect RTP silence
                                  suppression, disabled if 0 (default=0)
  -r, --restamp=count           If the latency of a packet is bigger than the
                                  `moving_average_latency * (&lt;restamp&gt;/1000)`
                                  the timestamps will be corrected, disabled if
                                  0 (default=0)
  -c, --restamp-packets=count   Number of packets used for calculating moving
                                  average latency for timestamp correction
                                  (default=10)
  -n, --restamp-min-th=milliseconds
                                Minimum latency of moving average to reach
                                  before starting to correct timestamps.
                                  (default=500)
</pre><dl class="section note"><dt>Note</dt><dd>This utility does not do any form of transcoding. It just depacketizes the RTP frames in order to get the payload, and saves the frames in a valid container. Any further post-processing (e.g., muxing audio and video belonging to the same media session in a single .webm file) is up to third-party applications.</dd></dl>
<p><a class="el" href="group__postprocessing.html">Recordings post-processing utility</a> </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae3bc33db0b05a8497446e0eb8d55777a" name="ae3bc33db0b05a8497446e0eb8d55777a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3bc33db0b05a8497446e0eb8d55777a">&#9670;&#160;</a></span>DEFAULT_AUDIO_SKEW_TH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_AUDIO_SKEW_TH&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3cc89d909942cd2647990a62a6d9cce8" name="a3cc89d909942cd2647990a62a6d9cce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cc89d909942cd2647990a62a6d9cce8">&#9670;&#160;</a></span>DEFAULT_RESTAMP_MIN_TH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_RESTAMP_MIN_TH&#160;&#160;&#160;500</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af172ba4d07b2aa4bfda5882b0e795389" name="af172ba4d07b2aa4bfda5882b0e795389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af172ba4d07b2aa4bfda5882b0e795389">&#9670;&#160;</a></span>DEFAULT_RESTAMP_MULTIPLIER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_RESTAMP_MULTIPLIER&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a674f6e294a26ef3a44ae57601f83882f" name="a674f6e294a26ef3a44ae57601f83882f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a674f6e294a26ef3a44ae57601f83882f">&#9670;&#160;</a></span>DEFAULT_RESTAMP_PACKETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_RESTAMP_PACKETS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c1722c9416e237f44270b09057d324f" name="a6c1722c9416e237f44270b09057d324f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1722c9416e237f44270b09057d324f">&#9670;&#160;</a></span>DEFAULT_SILENCE_DISTANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_SILENCE_DISTANCE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a60376e37269bc6a324cc381654a0e272" name="a60376e37269bc6a324cc381654a0e272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60376e37269bc6a324cc381654a0e272">&#9670;&#160;</a></span>SKEW_DETECTION_WAIT_TIME_SECS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SKEW_DETECTION_WAIT_TIME_SECS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a607ddb29b9822717ba7c6699bad1adaf" name="a607ddb29b9822717ba7c6699bad1adaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a607ddb29b9822717ba7c6699bad1adaf">&#9670;&#160;</a></span>janus_pp_rtp_skew_context</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjanus__pp__rtp__skew__context.html">janus_pp_rtp_skew_context</a> <a class="el" href="structjanus__pp__rtp__skew__context.html">janus_pp_rtp_skew_context</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac25104eafbf4e010c3c73f7c88ddf0c4" name="ac25104eafbf4e010c3c73f7c88ddf0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25104eafbf4e010c3c73f7c88ddf0c4">&#9670;&#160;</a></span>janus_log_colors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_log_colors = TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af673dbb85e1a3d742b67ac681ef2679a" name="af673dbb85e1a3d742b67ac681ef2679a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af673dbb85e1a3d742b67ac681ef2679a">&#9670;&#160;</a></span>janus_log_global_prefix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* janus_log_global_prefix = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a088c96466927bd862dc82c044bad6502" name="a088c96466927bd862dc82c044bad6502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a088c96466927bd862dc82c044bad6502">&#9670;&#160;</a></span>janus_log_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_log_level = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a160e98caa31c5e01432a6c262fcc52b1" name="a160e98caa31c5e01432a6c262fcc52b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160e98caa31c5e01432a6c262fcc52b1">&#9670;&#160;</a></span>janus_log_timestamps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean janus_log_timestamps = FALSE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa2b86c5b5d959f4dac77a7b8604f6361" name="aa2b86c5b5d959f4dac77a7b8604f6361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b86c5b5d959f4dac77a7b8604f6361">&#9670;&#160;</a></span>lock_debug</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lock_debug = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.18-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Last updated on Thu Apr 24 2025 &mdash; Janus WebRTC Server &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014-2025
</div>
</body>
</html>
